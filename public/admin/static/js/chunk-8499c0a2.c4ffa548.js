(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8499c0a2"],{"3af4":function(e,t,a){"use strict";var r=a("667c"),n=a.n(r);n.a},"667c":function(e,t,a){},"9add":function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return o}));var r=a("b775");function n(e){return Object(r["a"])({url:"/brand/getList",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/brand/add",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/brand/getOne?id="+e,method:"get"})}function s(e){return Object(r["a"])({url:"/brand/update",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/brand/del",method:"post",data:e})}},bcb2:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0,"label-width":"68px"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.handleRemoveAll}},[e._v("批量删除")])],1),e._v(" "),a("el-select",{attrs:{placeholder:"类型",size:"small"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.typeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}))],2),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.keyword,callback:function(t){e.$set(e.queryParams,"keyword",t)},expression:"queryParams.keyword"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleQuery}},[e._v("查询")])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.modelList,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSort}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号 ",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pic",label:"图片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!==t.row.pic?a("div",[a("img",{attrs:{src:t.row.pic,width:"65",height:"40"}})]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center",sortable:"custom","sort-change":e.handleQuery}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"货号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center",formatter:e.formatType,sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",align:"center",width:"180",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleRemove(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"40%"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"params",attrs:{model:e.params,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.params.name,callback:function(t){e.$set(e.params,"name",t)},expression:"params.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"货号",prop:"number"}},[a("el-input",{attrs:{placeholder:"请输入货号"},model:{value:e.params.number,callback:function(t){e.$set(e.params,"number",t)},expression:"params.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图片",prop:"imgUrl"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$uploadUrl,"show-file-list":!1,name:"pic","on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.params.pic?a("img",{staticClass:"avatar",attrs:{src:e.params.pic}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("p",[e._v("(建议尺寸为700*560,建议大小在2M以下）")])],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.params.type,callback:function(t){e.$set(e.params,"type",t)},expression:"params.type"}},e._l(e.typeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"备注"},model:{value:e.params.remark,callback:function(t){e.$set(e.params,"remark",t)},expression:"params.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("9add"),l={data:function(){return{loading:!1,total:0,ids:[],multipleSelection:[],queryParams:{type:"",keyword:"",pageNum:1,pageSize:10,sort:"",order:""},title:"",open:!1,modelList:[],params:{id:"",name:"",pic:"",number:"",type:"",remark:""},rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],number:[{required:!0,message:"货号不能为空",trigger:"blur"}],type:[{required:!0,message:"类型不能为空",trigger:"blur"}]},typeList:[{id:1,label:"衣服"},{id:2,label:"裤子"},{id:3,label:"鞋子"},{id:4,label:"配饰"},{id:5,label:"其他"}]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(i["d"])(this.queryParams).then((function(t){e.modelList=t.data.rows,e.total=t.data.total,e.loading=!1}))},formatType:function(e){return 1===e.type&&(e.type="衣服"),2===e.type&&(e.type="裤子"),3===e.type&&(e.type="鞋子"),4===e.type&&(e.type="配饰"),5===e.type&&(e.type="其他"),e.type},cancel:function(){this.open=!1,this.reset()},reset:function(){this.params={id:"",name:"",pic:"",number:"",type:"",remark:""},this.resetForm("params")},handleAdd:function(){this.reset(),this.open=!0,this.title="新增"},handleUpdate:function(e){var t=this;this.reset(),Object(i["c"])(e.id).then((function(e){t.params=e.data,t.open=!0,t.title="编辑"}))},handleRemove:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["b"])({id:e.id}).then((function(e){200===e.code&&t.getList(),t.$message.success(e.msg)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(e){this.multipleSelection=e},handleRemoveAll:function(){var e=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.ids=[];for(var t=e.multipleSelection.length,a=0;a<t;a++)e.ids.push(e.multipleSelection[a].id);if(e.ids.length<=0)e.$message.error("请至少选择一条删除！");else{var r=e.ids.join(",");Object(i["b"])({id:r}).then((function(t){200===t.code&&e.getList(),e.$message.success(t.msg)}))}})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleAvatarSuccess:function(e){this.params.pic=e.data.imgUrl},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a="image/gif"===e.type,r="image/png"===e.type,n="image/bmp"===e.type;t||a||r||n||this.$message.error("上传图片必须是JPG/GIF/PNG/BMP 格式!");var i=e.size/1024/1024<2;return i||this.$message.error("上传头像图片大小不能超过 2MB!"),(t||n||a||r)&&i},submitForm:function(){var e=this;this.$refs["params"].validate((function(t){t&&(e.params.id?Object(i["e"])(e.params).then((function(t){200===t.code?(e.$message.success(t.msg),e.open=!1,e.getList()):e.$message.error(t.msg)})):Object(i["a"])(e.params).then((function(t){200===t.code?(e.$message.success(t.msg),e.open=!1,e.getList()):e.$message.error(t.msg)})))}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},handleSort:function(e){this.queryParams.sort=e.prop,"descending"===e.order?this.queryParams.order="desc":this.queryParams.order="asc",this.queryParams.pageNum=1,this.getList()}}},s=l,o=(a("3af4"),a("2877")),c=Object(o["a"])(s,r,n,!1,null,null,null);t["default"]=c.exports}}]);